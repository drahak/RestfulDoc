
<section ng-controller="Resource">

	<!-- API section introduction -->
	<section class="resource">
		<div class="column-text">
			<div class="view text-right">
				<h1>{{ data.title }}</h1>
				<p>{{ data.description }}</p>
				<input type="text" ng-model="search" class="input-big" placeholder="Search {{data.title}} resource" />
			</div>
		</div>
		<div class="column-code">
			<div class="view">
				<h1><span class="muted">version </span> {{api.version}}</h1>
			</div>
		</div>
		<div class="column-code-holder"></div>

		<div class="clearfix"></div>

		<div class="hr-text"></div>
		<div class="hr-code"></div>
	</section>

	<!-- Resources list -->
	<section ng-repeat="resource in data.resources | filter:search" class="resource">

		<div class="column-text">

			<div class="view">
				<!-- Resource header -->
				<header ng-click="resource.show = !resource.show">
					<h2>{{resource.title}}</h2>
				</header>
				<p>{{resource.description}}</p>

				<div ng-show="resource.request.parameters.length">
					<h3>Request parameters</h3>
					<table class="table table-parameter">
						<tbody>
						<tr ng-repeat="parameter in resource.request.parameters">
							<th class="column-name">{{parameter.name}}</th>
							<td><span ng-show="!parameter.optional" class="muted">[REQUIRED]</span> {{parameter.description}}</td>
						</tr>
						</tbody>
					</table>
				</div>

				<div ng-show="resource.request.headers.length">
					<h3>Request headers</h3>
					<table class="table table-parameter">
						<tbody>
						<tr ng-repeat="header in resource.request.headers">
							<th class="column-name">{{header.name}}</th>
							<td><span ng-show="!header.optional" class="muted">[REQUIRED]</span> {{header.description}}</td>
						</tr>
						</tbody>
					</table>
				</div>

			</div>
		</div>

		<div class="column-code">
			<div class="view">
				<h3>Definition</h3>
				<pre>{{resource.method}} {{resource.path}}</pre>
			</div>
			<div class="view">
				<h3>Response</h3>
				<pre class="headers"><p>Status: {{resource.response.code}} {{statusCodes[resource.response.code]}}</p><p ng-repeat="(key, name) in resource.response.headers">{{key}}: {{name}}</p></pre>
				<pre class="code">{{resource.response.data|json}}</pre>
			</div>
		</div>
		<div class="column-code-holder"></div>
		<div class="clearfix"></div>

		<div class="hr-text"></div>
		<div class="hr-code"></div>
	</section>
</section>